[DEBUG] waitUntilAllAcked loop #1: pending=1000, unacked=0
[DEBUG] sendLoop #1: pending=1000, unacked=0
[DEBUG] sendNewMessages batch #1: size=32, first_seq=1, last_seq=32, remaining_pending=968, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] receiveLoop started
[DEBUG] handleAck: received ACK for 32 messages, first=1, last=32, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #2: size=32, first_seq=33, last_seq=64, remaining_pending=936, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=33, last=64, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #3: size=32, first_seq=65, last_seq=96, remaining_pending=904, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=65, last=96, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #4: size=32, first_seq=97, last_seq=128, remaining_pending=872, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=97, last=128, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #5: size=32, first_seq=129, last_seq=160, remaining_pending=840, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=129, last=160, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #6: size=32, first_seq=161, last_seq=192, remaining_pending=808, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=161, last=192, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #7: size=32, first_seq=193, last_seq=224, remaining_pending=776, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=193, last=224, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #8: size=32, first_seq=225, last_seq=256, remaining_pending=744, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=225, last=256, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #9: size=32, first_seq=257, last_seq=288, remaining_pending=712, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=257, last=288, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #10: size=32, first_seq=289, last_seq=320, remaining_pending=680, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=289, last=320, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #11: size=32, first_seq=321, last_seq=352, remaining_pending=648, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=321, last=352, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #12: size=32, first_seq=353, last_seq=384, remaining_pending=616, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=353, last=384, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #13: size=32, first_seq=385, last_seq=416, remaining_pending=584, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=385, last=416, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #14: size=32, first_seq=417, last_seq=448, remaining_pending=552, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=417, last=448, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #15: size=32, first_seq=449, last_seq=480, remaining_pending=520, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=449, last=480, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #16: size=32, first_seq=481, last_seq=512, remaining_pending=488, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=481, last=512, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #17: size=32, first_seq=513, last_seq=544, remaining_pending=456, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=513, last=544, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #18: size=32, first_seq=545, last_seq=576, remaining_pending=424, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=545, last=576, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #19: size=32, first_seq=577, last_seq=608, remaining_pending=392, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=577, last=608, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #20: size=32, first_seq=609, last_seq=640, remaining_pending=360, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=609, last=640, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #21: size=32, first_seq=641, last_seq=672, remaining_pending=328, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=641, last=672, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #22: size=32, first_seq=673, last_seq=704, remaining_pending=296, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=673, last=704, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #23: size=32, first_seq=705, last_seq=736, remaining_pending=264, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=705, last=736, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #24: size=32, first_seq=737, last_seq=768, remaining_pending=232, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=737, last=768, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #25: size=32, first_seq=769, last_seq=800, remaining_pending=200, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=769, last=800, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #26: size=32, first_seq=801, last_seq=832, remaining_pending=168, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=801, last=832, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #27: size=32, first_seq=833, last_seq=864, remaining_pending=136, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=833, last=864, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #28: size=32, first_seq=865, last_seq=896, remaining_pending=104, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=865, last=896, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #29: size=32, first_seq=897, last_seq=928, remaining_pending=72, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=897, last=928, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #30: size=32, first_seq=929, last_seq=960, remaining_pending=40, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=929, last=960, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #31: size=32, first_seq=961, last_seq=992, remaining_pending=8, total_unacked=32
[DEBUG]   Sending packet: 134 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 32 messages, first=961, last=992, unacked_before=32, removed=32, unacked_after=0
[DEBUG] sendNewMessages batch #32: size=8, first_seq=993, last_seq=1000, remaining_pending=0, total_unacked=8
[DEBUG]   Sending packet: 38 bytes
[DEBUG]   ✓ Send successful
[DEBUG] handleAck: received ACK for 8 messages, first=993, last=1000, unacked_before=8, removed=8, unacked_after=0
[DEBUG] waitUntilAllAcked exiting after 7 iterations
Process 2: Sent 1000 messages to process 4
[DEBUG] Entering signal wait loop...
[DEBUG] Signal wait loop iteration #1
[DEBUG] sendLoop #101: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #11
[DEBUG] sendLoop #201: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #21
[DEBUG] sendLoop #301: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #31
[DEBUG] Signal wait loop iteration #41
[DEBUG] sendLoop #401: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #51
[DEBUG] sendLoop #501: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #61
[DEBUG] sendLoop #601: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #71
[DEBUG] sendLoop #701: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #81
[DEBUG] sendLoop #801: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #91
[DEBUG] Signal wait loop iteration #101
[DEBUG] sendLoop #901: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #111
[DEBUG] sendLoop #1001: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #121
[DEBUG] sendLoop #1101: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #131
[DEBUG] sendLoop #1201: pending=0, unacked=0
[DEBUG] Signal wait loop iteration #141
[DEBUG] Signal received, exiting wait loop after 144 iterations
Process 2: Task completed, shutting down...
[DEBUG] sendLoop exiting after 1284 iterations
